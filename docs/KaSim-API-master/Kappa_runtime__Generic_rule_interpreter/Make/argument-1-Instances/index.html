<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>1-Instances (kappa-library.Kappa_runtime__Generic_rule_interpreter.Make.1-Instances)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">kappa-library</a> &#x00BB; <a href="../../index.html">Kappa_runtime__Generic_rule_interpreter</a> &#x00BB; <a href="../index.html">Make</a> &#x00BB; 1-Instances</nav><h1>Parameter <code>Make.1-Instances</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>t</code></dt><dt class="spec type" id="type-message"><a href="#type-message" class="anchor"></a><code><span class="keyword">type </span>message</code></dt></dl><dl><dt class="spec value" id="val-receive_message"><a href="#val-receive_message" class="anchor"></a><code><span class="keyword">val </span>receive_message : <a href="index.html#type-message">message</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val </span>empty : <a href="../../../Kappa_terms/Model/index.html#type-t">Kappa_terms.Model.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-debug_print"><a href="#val-debug_print" class="anchor"></a><code><span class="keyword">val </span>debug_print : Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt></dl><section><header><h4 id="updating-the-roots"><a href="#updating-the-roots" class="anchor"></a>Updating the roots</h4></header><dl><dt class="spec value" id="val-incorporate_extra_pattern"><a href="#val-incorporate_extra_pattern" class="anchor"></a><code><span class="keyword">val </span>incorporate_extra_pattern : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../Kappa_terms/Pattern/index.html#type-id">Kappa_terms.Pattern.id</a> <span>&#45;&gt;</span> <a href="../../../Kappa_generic_toolset/IntCollection/index.html#type-t">Kappa_generic_toolset.IntCollection.t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-break_apart_cc"><a href="#val-break_apart_cc" class="anchor"></a><code><span class="keyword">val </span>break_apart_cc : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../Kappa_mixtures/Edges/index.html#type-t">Kappa_mixtures.Edges.t</a> <span>&#45;&gt;</span> ?&#8288;mod_connectivity_store:<a href="../../../Kappa_runtime/Roots/index.html#type-mod_ccs_cache">Kappa_runtime.Roots.mod_ccs_cache</a> <span>&#45;&gt;</span> (int<span class="keyword"> * </span>int) option <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-merge_cc"><a href="#val-merge_cc" class="anchor"></a><code><span class="keyword">val </span>merge_cc : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> ?&#8288;mod_connectivity_store:<a href="../../../Kappa_runtime/Roots/index.html#type-mod_ccs_cache">Kappa_runtime.Roots.mod_ccs_cache</a> <span>&#45;&gt;</span> (int<span class="keyword"> * </span>int) option <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-update_roots"><a href="#val-update_roots" class="anchor"></a><code><span class="keyword">val </span>update_roots : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> <a href="../../../Kappa_terms/Pattern/Set/index.html#type-t">Kappa_terms.Pattern.Set.t</a> <span>&#45;&gt;</span> <a href="../../../Kappa_mixtures/Edges/index.html#type-t">Kappa_mixtures.Edges.t</a> <span>&#45;&gt;</span> <a href="../../../Kappa_runtime/Roots/index.html#type-mod_ccs_cache">Kappa_runtime.Roots.mod_ccs_cache</a> <span>&#45;&gt;</span> <a href="../../../Kappa_terms/Pattern/Set/index.html#type-elt">Kappa_terms.Pattern.Set.elt</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt></dl></section><section><header><h4 id="counting-instances"><a href="#counting-instances" class="anchor"></a>Counting instances</h4></header><dl><dt class="spec value" id="val-number_of_instances"><a href="#val-number_of_instances" class="anchor"></a><code><span class="keyword">val </span>number_of_instances : ?&#8288;rule_id:int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../Kappa_terms/Pattern/index.html#type-id">Kappa_terms.Pattern.id</a> array <span>&#45;&gt;</span> int</code></dt><dd><p><code>number_of_instances ?rule_id state patterns</code></p></dd></dl><dl><dt class="spec value" id="val-number_of_unary_instances_in_cc"><a href="#val-number_of_unary_instances_in_cc" class="anchor"></a><code><span class="keyword">val </span>number_of_unary_instances_in_cc : ?&#8288;rule_id:int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<a href="../../../Kappa_terms/Pattern/index.html#type-id">Kappa_terms.Pattern.id</a><span class="keyword"> * </span><a href="../../../Kappa_terms/Pattern/index.html#type-id">Kappa_terms.Pattern.id</a>) <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int</code></dt><dd><p><code>number_of_unary_instances_in_cc ?rule_id state (pat1, pat2) cc</code></p></dd></dl></section><section><header><h4 id="picking-instances"><a href="#picking-instances" class="anchor"></a>Picking instances</h4></header><dl><dt class="spec value" id="val-pick_unary_instance_in_cc"><a href="#val-pick_unary_instance_in_cc" class="anchor"></a><code><span class="keyword">val </span>pick_unary_instance_in_cc : ?&#8288;rule_id:int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Random.State.t <span>&#45;&gt;</span> (<a href="../../../Kappa_terms/Pattern/index.html#type-id">Kappa_terms.Pattern.id</a><span class="keyword"> * </span><a href="../../../Kappa_terms/Pattern/index.html#type-id">Kappa_terms.Pattern.id</a>) <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int<span class="keyword"> * </span>int</code></dt><dd><p><code>pick_unary_instance_in_cc state random_state (pat1, pat2) cc</code> Returns a pair of roots corresponding to <code>pat1</code> and <code>pat2</code> respectively. Optimized for currying before the <code>cc</code> argument. In case of failure, one of the resulting roots is set to <code>(-1)</code>.</p></dd></dl><dl><dt class="spec value" id="val-fold_picked_instance"><a href="#val-fold_picked_instance" class="anchor"></a><code><span class="keyword">val </span>fold_picked_instance : ?&#8288;rule_id:int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Random.State.t <span>&#45;&gt;</span> <a href="../../../Kappa_terms/Pattern/index.html#type-id">Kappa_terms.Pattern.id</a> array <span>&#45;&gt;</span> init:<span class="type-var">'a</span> <span>&#45;&gt;</span> (int <span>&#45;&gt;</span> <a href="../../../Kappa_terms/Pattern/index.html#type-id">Kappa_terms.Pattern.id</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> option) <span>&#45;&gt;</span> <span class="type-var">'a</span> option</code></dt><dd><p><code>fold_picked_instances state random_state patterns ~init f</code> with <code>f pat_id_in_array pat corresponding_root acc</code>. Monadic fold function that calls <code>f</code> for every root of a random embedding from <code>patterns</code> in the mixture. This function is lazy in the sense it stops to draw roots when the accumulator besomes `None`.</p></dd></dl></section><section><header><h4 id="enumerating-instances"><a href="#enumerating-instances" class="anchor"></a>Enumerating instances</h4></header><dl><dt class="spec value" id="val-fold_instances"><a href="#val-fold_instances" class="anchor"></a><code><span class="keyword">val </span>fold_instances : ?&#8288;rule_id:int <span>&#45;&gt;</span> ?&#8288;excp:(<a href="../../../Kappa_terms/Pattern/index.html#type-id">Kappa_terms.Pattern.id</a><span class="keyword"> * </span>int) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../Kappa_terms/Pattern/index.html#type-id">Kappa_terms.Pattern.id</a> array <span>&#45;&gt;</span> init:<span class="type-var">'a</span> <span>&#45;&gt;</span> (int array <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>fold_enumerated_instances state patterns ~init f</code> with <code>f roots acc</code>. Folds through every rectangular instance of an array of patterns.</p></dd></dl><dl><dt class="spec value" id="val-fold_unary_instances"><a href="#val-fold_unary_instances" class="anchor"></a><code><span class="keyword">val </span>fold_unary_instances : ?&#8288;rule_id:int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<a href="../../../Kappa_terms/Pattern/index.html#type-id">Kappa_terms.Pattern.id</a><span class="keyword"> * </span><a href="../../../Kappa_terms/Pattern/index.html#type-id">Kappa_terms.Pattern.id</a>) <span>&#45;&gt;</span> init:<span class="type-var">'a</span> <span>&#45;&gt;</span> ((int<span class="keyword"> * </span>int) <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>fold_unary_instances state (pat1, pat2) ~init f </code> with <code>f (root1, root2) acc</code>.</p></dd></dl></section></div></body></html>