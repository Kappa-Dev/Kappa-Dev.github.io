<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>LKappa (kappa-library.Kappa_terms.LKappa)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">kappa-library</a> &#x00BB; <a href="../index.html">Kappa_terms</a> &#x00BB; LKappa</nav><h1>Module <code>Kappa_terms.LKappa</code></h1></header><aside><p>Intermediate representation of model on wich sanity has been checked</p></aside><dl><dt class="spec type" id="type-link"><a href="#type-link" class="anchor"></a><code><span class="keyword">type </span>('a, 'annot) link</code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-link.ANY_FREE" class="anchored"><td class="def constructor"><a href="#type-link.ANY_FREE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">ANY_FREE</span></code></td></tr><tr id="type-link.LNK_VALUE" class="anchored"><td class="def constructor"><a href="#type-link.LNK_VALUE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">LNK_VALUE</span><span class="keyword"> of </span>int<span class="keyword"> * </span><span class="type-var">'annot</span></code></td></tr><tr id="type-link.LNK_FREE" class="anchored"><td class="def constructor"><a href="#type-link.LNK_FREE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">LNK_FREE</span></code></td></tr><tr id="type-link.LNK_ANY" class="anchored"><td class="def constructor"><a href="#type-link.LNK_ANY" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">LNK_ANY</span></code></td></tr><tr id="type-link.LNK_SOME" class="anchored"><td class="def constructor"><a href="#type-link.LNK_SOME" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">LNK_SOME</span></code></td></tr><tr id="type-link.LNK_TYPE" class="anchored"><td class="def constructor"><a href="#type-link.LNK_TYPE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">LNK_TYPE</span><span class="keyword"> of </span><span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'a</span></code></td><td class="doc"><p>port * agent_type</p></td></tr></table></dt><dt class="spec type" id="type-switching"><a href="#type-switching" class="anchor"></a><code><span class="keyword">type </span>switching</code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-switching.Linked" class="anchored"><td class="def constructor"><a href="#type-switching.Linked" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Linked</span><span class="keyword"> of </span>int</code></td></tr><tr id="type-switching.Freed" class="anchored"><td class="def constructor"><a href="#type-switching.Freed" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Freed</span></code></td></tr><tr id="type-switching.Maintained" class="anchored"><td class="def constructor"><a href="#type-switching.Maintained" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Maintained</span></code></td></tr><tr id="type-switching.Erased" class="anchored"><td class="def constructor"><a href="#type-switching.Erased" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Erased</span></code></td></tr></table></dt><dt class="spec type" id="type-rule_internal"><a href="#type-rule_internal" class="anchor"></a><code><span class="keyword">type </span>rule_internal</code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-rule_internal.I_ANY" class="anchored"><td class="def constructor"><a href="#type-rule_internal.I_ANY" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">I_ANY</span></code></td></tr><tr id="type-rule_internal.I_ANY_CHANGED" class="anchored"><td class="def constructor"><a href="#type-rule_internal.I_ANY_CHANGED" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">I_ANY_CHANGED</span><span class="keyword"> of </span>int</code></td></tr><tr id="type-rule_internal.I_ANY_ERASED" class="anchored"><td class="def constructor"><a href="#type-rule_internal.I_ANY_ERASED" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">I_ANY_ERASED</span></code></td></tr><tr id="type-rule_internal.I_VAL_CHANGED" class="anchored"><td class="def constructor"><a href="#type-rule_internal.I_VAL_CHANGED" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">I_VAL_CHANGED</span><span class="keyword"> of </span>int<span class="keyword"> * </span>int</code></td></tr><tr id="type-rule_internal.I_VAL_ERASED" class="anchored"><td class="def constructor"><a href="#type-rule_internal.I_VAL_ERASED" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">I_VAL_ERASED</span><span class="keyword"> of </span>int</code></td></tr></table></dt><dt class="spec type" id="type-rule_agent"><a href="#type-rule_agent" class="anchor"></a><code><span class="keyword">type </span>rule_agent</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-rule_agent.ra_type" class="anchored"><td class="def field"><a href="#type-rule_agent.ra_type" class="anchor"></a><code>ra_type : int;</code></td></tr><tr id="type-rule_agent.ra_erased" class="anchored"><td class="def field"><a href="#type-rule_agent.ra_erased" class="anchor"></a><code>ra_erased : bool;</code></td></tr><tr id="type-rule_agent.ra_ports" class="anchored"><td class="def field"><a href="#type-rule_agent.ra_ports" class="anchor"></a><code>ra_ports : ((int, int<span class="keyword"> * </span>int) <a href="index.html#type-link">link</a> <a href="../../Kappa_generic_toolset/Locality/index.html#type-annot">Kappa_generic_toolset.Locality.annot</a><span class="keyword"> * </span><a href="index.html#type-switching">switching</a>) array;</code></td></tr><tr id="type-rule_agent.ra_ints" class="anchored"><td class="def field"><a href="#type-rule_agent.ra_ints" class="anchor"></a><code>ra_ints : <a href="index.html#type-rule_internal">rule_internal</a> array;</code></td></tr><tr id="type-rule_agent.ra_syntax" class="anchored"><td class="def field"><a href="#type-rule_agent.ra_syntax" class="anchor"></a><code>ra_syntax : (((int, int<span class="keyword"> * </span>int) <a href="index.html#type-link">link</a> <a href="../../Kappa_generic_toolset/Locality/index.html#type-annot">Kappa_generic_toolset.Locality.annot</a><span class="keyword"> * </span><a href="index.html#type-switching">switching</a>) array<span class="keyword"> * </span><a href="index.html#type-rule_internal">rule_internal</a> array) option;</code></td></tr></table><code>}</code></dt><dd><p>A representation of 'left-hand-side' agent that stores how everything is transformed. In an observable (a mixture in an alg_expr), everything is <code>Maintained</code> (represented by <code>I_VAL_CHANGED (i,i)</code> for internal states).</p><p>The field ra_syntax represents how the user describe the agent before compilation. Therefore, <code>compil_of_ast</code> in this module generates rule_agent where ra_syntax is <code>Some (Array.copy ra_ports,
Array.copy ra_ints)</code>.</p></dd></dl><dl><dt class="spec type" id="type-rule_mixture"><a href="#type-rule_mixture" class="anchor"></a><code><span class="keyword">type </span>rule_mixture</code><code><span class="keyword"> = </span><a href="index.html#type-rule_agent">rule_agent</a> list</code></dt></dl><dl><dt class="spec value" id="val-forbid_modification"><a href="#val-forbid_modification" class="anchor"></a><code><span class="keyword">val </span>forbid_modification : <a href="../../Kappa_generic_toolset/Locality/index.html#type-t">Kappa_generic_toolset.Locality.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> option <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-several_internal_states"><a href="#val-several_internal_states" class="anchor"></a><code><span class="keyword">val </span>several_internal_states : <a href="../../Kappa_generic_toolset/Locality/index.html#type-t">Kappa_generic_toolset.Locality.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-not_enough_specified"><a href="#val-not_enough_specified" class="anchor"></a><code><span class="keyword">val </span>not_enough_specified : status:string <span>&#45;&gt;</span> side:string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> (string<span class="keyword"> * </span><a href="../../Kappa_generic_toolset/Locality/index.html#type-t">Kappa_generic_toolset.Locality.t</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-several_occurence_of_site"><a href="#val-several_occurence_of_site" class="anchor"></a><code><span class="keyword">val </span>several_occurence_of_site : string <span>&#45;&gt;</span> (string<span class="keyword"> * </span><a href="../../Kappa_generic_toolset/Locality/index.html#type-t">Kappa_generic_toolset.Locality.t</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-counter_misused"><a href="#val-counter_misused" class="anchor"></a><code><span class="keyword">val </span>counter_misused : string <span>&#45;&gt;</span> (string<span class="keyword"> * </span><a href="../../Kappa_generic_toolset/Locality/index.html#type-t">Kappa_generic_toolset.Locality.t</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-link_only_one_occurence"><a href="#val-link_only_one_occurence" class="anchor"></a><code><span class="keyword">val </span>link_only_one_occurence : int <span>&#45;&gt;</span> <a href="../../Kappa_generic_toolset/Locality/index.html#type-t">Kappa_generic_toolset.Locality.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-agent_to_erased"><a href="#val-agent_to_erased" class="anchor"></a><code><span class="keyword">val </span>agent_to_erased : <a href="../../Kappa_mixtures/Signature/index.html#type-s">Kappa_mixtures.Signature.s</a> <span>&#45;&gt;</span> <a href="index.html#type-rule_agent">rule_agent</a> <span>&#45;&gt;</span> <a href="index.html#type-rule_agent">rule_agent</a></code></dt><dt class="spec value" id="val-to_erased"><a href="#val-to_erased" class="anchor"></a><code><span class="keyword">val </span>to_erased : <a href="../../Kappa_mixtures/Signature/index.html#type-s">Kappa_mixtures.Signature.s</a> <span>&#45;&gt;</span> <a href="index.html#type-rule_mixture">rule_mixture</a> <span>&#45;&gt;</span> <a href="index.html#type-rule_mixture">rule_mixture</a></code></dt><dt class="spec value" id="val-to_maintained"><a href="#val-to_maintained" class="anchor"></a><code><span class="keyword">val </span>to_maintained : <a href="index.html#type-rule_mixture">rule_mixture</a> <span>&#45;&gt;</span> <a href="index.html#type-rule_mixture">rule_mixture</a></code></dt><dt class="spec value" id="val-to_raw_mixture"><a href="#val-to_raw_mixture" class="anchor"></a><code><span class="keyword">val </span>to_raw_mixture : <a href="../../Kappa_mixtures/Signature/index.html#type-s">Kappa_mixtures.Signature.s</a> <span>&#45;&gt;</span> <a href="index.html#type-rule_mixture">rule_mixture</a> <span>&#45;&gt;</span> <a href="../Raw_mixture/index.html#type-t">Raw_mixture.t</a></code></dt><dt class="spec value" id="val-copy_rule_agent"><a href="#val-copy_rule_agent" class="anchor"></a><code><span class="keyword">val </span>copy_rule_agent : <a href="index.html#type-rule_agent">rule_agent</a> <span>&#45;&gt;</span> <a href="index.html#type-rule_agent">rule_agent</a></code></dt><dt class="spec value" id="val-print_rule_mixture"><a href="#val-print_rule_mixture" class="anchor"></a><code><span class="keyword">val </span>print_rule_mixture : noCounters:bool <span>&#45;&gt;</span> <a href="../../Kappa_mixtures/Signature/index.html#type-s">Kappa_mixtures.Signature.s</a> <span>&#45;&gt;</span> ltypes:bool <span>&#45;&gt;</span> <a href="../Raw_mixture/index.html#type-t">Raw_mixture.t</a> <span>&#45;&gt;</span> Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-rule_mixture">rule_mixture</a> <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec type" id="type-rule"><a href="#type-rule" class="anchor"></a><code><span class="keyword">type </span>rule</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-rule.r_mix" class="anchored"><td class="def field"><a href="#type-rule.r_mix" class="anchor"></a><code>r_mix : <a href="index.html#type-rule_mixture">rule_mixture</a>;</code></td></tr><tr id="type-rule.r_created" class="anchored"><td class="def field"><a href="#type-rule.r_created" class="anchor"></a><code>r_created : <a href="../Raw_mixture/index.html#type-t">Raw_mixture.t</a>;</code></td></tr><tr id="type-rule.r_delta_tokens" class="anchored"><td class="def field"><a href="#type-rule.r_delta_tokens" class="anchor"></a><code>r_delta_tokens : ((<a href="index.html#type-rule_mixture">rule_mixture</a>, int) <a href="../Alg_expr/index.html#type-e">Alg_expr.e</a> <a href="../../Kappa_generic_toolset/Locality/index.html#type-annot">Kappa_generic_toolset.Locality.annot</a><span class="keyword"> * </span>int) list;</code></td></tr><tr id="type-rule.r_rate" class="anchored"><td class="def field"><a href="#type-rule.r_rate" class="anchor"></a><code>r_rate : (<a href="index.html#type-rule_mixture">rule_mixture</a>, int) <a href="../Alg_expr/index.html#type-e">Alg_expr.e</a> <a href="../../Kappa_generic_toolset/Locality/index.html#type-annot">Kappa_generic_toolset.Locality.annot</a>;</code></td></tr><tr id="type-rule.r_un_rate" class="anchored"><td class="def field"><a href="#type-rule.r_un_rate" class="anchor"></a><code>r_un_rate : ((<a href="index.html#type-rule_mixture">rule_mixture</a>, int) <a href="../Alg_expr/index.html#type-e">Alg_expr.e</a> <a href="../../Kappa_generic_toolset/Locality/index.html#type-annot">Kappa_generic_toolset.Locality.annot</a><span class="keyword"> * </span>(<a href="index.html#type-rule_mixture">rule_mixture</a>, int) <a href="../Alg_expr/index.html#type-e">Alg_expr.e</a> <a href="../../Kappa_generic_toolset/Locality/index.html#type-annot">Kappa_generic_toolset.Locality.annot</a> option) option;</code></td></tr><tr id="type-rule.r_editStyle" class="anchored"><td class="def field"><a href="#type-rule.r_editStyle" class="anchor"></a><code>r_editStyle : bool;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-print_link"><a href="#val-print_link" class="anchor"></a><code><span class="keyword">val </span>print_link : (<span class="type-var">'a</span> <span>&#45;&gt;</span> Format.formatter <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> (Format.formatter <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> (Format.formatter <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> Format.formatter <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-link">link</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-link_to_json"><a href="#val-link_to_json" class="anchor"></a><code><span class="keyword">val </span>link_to_json : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> Yojson.Basic.t) <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> Yojson.Basic.t) <span>&#45;&gt;</span> (<span class="type-var">'b</span> <span>&#45;&gt;</span> Yojson.Basic.t list) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-link">link</a> <span>&#45;&gt;</span> Yojson.Basic.t</code></dt><dd><p>Fragile: the list MUST NOT be a singleton</p></dd></dl><dl><dt class="spec value" id="val-link_of_json"><a href="#val-link_of_json" class="anchor"></a><code><span class="keyword">val </span>link_of_json : (<span class="type-var">'a</span> <span>&#45;&gt;</span> Yojson.Basic.t <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> (Yojson.Basic.t <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> (Yojson.Basic.t list <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> Yojson.Basic.t <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) <a href="index.html#type-link">link</a></code></dt><dt class="spec value" id="val-print_rates"><a href="#val-print_rates" class="anchor"></a><code><span class="keyword">val </span>print_rates : noCounters:bool <span>&#45;&gt;</span> <a href="../../Kappa_mixtures/Signature/index.html#type-s">Kappa_mixtures.Signature.s</a> <span>&#45;&gt;</span> (Format.formatter <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> (Format.formatter <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-rule">rule</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-print_rule"><a href="#val-print_rule" class="anchor"></a><code><span class="keyword">val </span>print_rule : noCounters:bool <span>&#45;&gt;</span> full:bool <span>&#45;&gt;</span> <a href="../../Kappa_mixtures/Signature/index.html#type-s">Kappa_mixtures.Signature.s</a> <span>&#45;&gt;</span> (Format.formatter <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> (Format.formatter <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-rule">rule</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-rule_to_json"><a href="#val-rule_to_json" class="anchor"></a><code><span class="keyword">val </span>rule_to_json : filenames:int <a href="../../Kappa_generic_toolset__Mods/StringSetMap/Map/index.html#type-t">Kappa_generic_toolset.Mods.StringMap.t</a> <span>&#45;&gt;</span> <a href="index.html#type-rule">rule</a> <span>&#45;&gt;</span> Yojson.Basic.t</code></dt><dt class="spec value" id="val-rule_of_json"><a href="#val-rule_of_json" class="anchor"></a><code><span class="keyword">val </span>rule_of_json : filenames:string array <span>&#45;&gt;</span> Yojson.Basic.t <span>&#45;&gt;</span> <a href="index.html#type-rule">rule</a></code></dt><dt class="spec value" id="val-max_link_id"><a href="#val-max_link_id" class="anchor"></a><code><span class="keyword">val </span>max_link_id : <a href="index.html#type-rule_mixture">rule_mixture</a> <span>&#45;&gt;</span> int</code></dt></dl></div></body></html>