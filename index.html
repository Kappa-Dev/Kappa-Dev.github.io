<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <title>Kappa-Dev technical page</title>

    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
  </head>
  <body>
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container">
	<div class="navbar-header"><a class="navbar-brand" href="https://Kappa-Dev.github.io/">KaSim</a></div>
	<div class="nav navbar-right">
	  <a class="navbar-brand" href="https://gitter.im/Kappa-Dev?utm_source=share-link&utm_medium=link&utm_campaign=share-link">
	    <img alt="Gitter chat" src="https://badges.gitter.im/Kappa-Dev.png"/>
	  </a>
	  <img class="navbar-brand" alt="Build Status" src="https://travis-ci.org/Kappa-Dev/KaSim.svg?branch=master"/>
	</div>
      </div>
    </nav>
    <div class="container">
      <div class="jumbotron" style="text-align:center;">
	<h1>KaSim Development Homepage</h1>
	<p class="lead">A rule-based language for modeling protein interaction
	  networks</p>
	<div class="alert alert-warning" role="alert">
	  Kappa website has moved to <a href="https://www.kappalanguage.org/" class="alert-link">https://www.kappalanguage.org/</a>
	</div>
	<img alt="KaSim Logo"
	     src="https://rawgithub.com/Kappa-Dev/KaSim/master/man/img/KaSim-Logo.svg"
	     />
      </div>
      <h2 class="page-header">Get it</h2>
      <div class="row">
	<div class="col-md-10">
	  <ul>
	    <li>The released version <a href="https://github.com/Kappa-Dev/KaSim/releases">binaries</a></li>
	    <li>The development version <a href="https://github.com/Kappa-Dev/KaSim">source code</a> and
	      (hopefully) <a href="https://tools.kappalanguage.org/nightly-builds/">nightly-builds binaries</a></li>
	  </ul>
	</div>
	<div class="col-md-2">
	  <a class="btn btn-primary btn-lg" role="button"
	     href="https://tools.kappalanguage.org/try/index.html?&plot_period=.1&time_limit=90&model=https%3A%2F%2Fraw.githubusercontent.com%2FKappa-Dev%2FKaSim%2Fmaster%2Fmodels%2Fabc-pert.ka">
	    Try it online</a>
	</div>
      </div>
      <h2 class="page-header">Learn it</h2>
      <p> The reference manual of the development version is
	available <a href="https://tools.kappalanguage.org/docs/KaSim-manual-master/KaSim_manual.htm">here</a>.
	The <a href="https://github.com/Kappa-Dev/KaSim/releases">stable
	versions</a> are distributed as PDF with the binaries.</p>
      <p><a href="https://www.irif.fr/~jkrivine/homepage/Teaching.html">Jean
	  Krivine teaching page</a> provides matierial to start with
	  KaSim.</p>
      <h2 class="page-header">Use it</h2>
      <h3>Installation</h3>
      To obtain KaSim/KaSa you can either use pre-compiled binaries or compile the sources for your architecture by yourself.

      <h4>Use the precompiled binaries</h4>
      <p>The easiest way to use KaSim is to use pre-compiled versions available in the release section on <a href="https://github.com/Kappa-Dev/KaSim/releases"> the github repository</a>. Download the version that corresponds to your operating system (Windows, Linux or Mac OSX) and rename the downloaded file into KaSim (or KaSa). Note that on Mac OSX or Linux, it might be necessary to give executable permissions to KaSim (and KaSa). This can be done using the shell commands:
<code>chmod u+x KaSim </code> (and <code>chmod u+x KaSa</code>). </p>

      <p>To test whether your program does work, simply type <code>./KaSim \dd version</code> on a terminal, from the directory that contains the binaries. If the version is displayed it means that the binaries are indeed compatible with your OS. Otherwise you may need to compile KaSim from the sources (see below). </p>

      <h4>Compile from the sources</h4>
      <div class="row">
	<ul>
	  <li><i>Obtaining the sources.</i></li>
	  <p style="text-align:justify;">Download the source code from <a href="https://github.com/Kappa-Dev/KaSim">https://github.com/Kappa-Dev/KaSim</a>. Make sure you have a recent OCaml compiler (KaSim/KaSa~currently requires Ocaml 4.02.3 to compile) as well as <code>ocamlbuild</code>, <code>findlib</code> and the <code>yojson</code> library installed.

	    <br>You can check if it is the case from a terminal window by typing <code>ocamlfind ocamlopt -v</code>. If it fails or prints an outdated version number, then you need to install <a href="http://caml.inria.fr/download.en.html">OCaml Native compiler</a> and/or <a href="http://projects.camlcity.org/projects/findlib.html"> findlib </a>.

	    <br>Then, type <code>ocamlfind query yojson</code>. The answer should be a path. If it is not, install yojson using a package manager.

	    <br>OCamlbuild is hosted on <a href="https://github.com/ocaml/ocamlbuild">https://github.com/ocaml/ocamlbuild</a>.
	    <li><i>Compiling.</i></li>

	  <p style="text-align:justify;">Once OCaml is safely installed, decompress the KaSim archive and compile it following these few steps:
<pre><code>tar xzvf kasim.tar.gz -d Kappa
cd Kappa
make bin/KaSim
make bin/KaSa</pre></code>
At the end of these steps, there should be an executable file named KaSim in the <code>bin</code> directory of the <code>Kappa</code> directory. In order to check the compilation went fine, simply type <code> bin/KaSim -\,-version</code>.

<br>If the tool <code>ocamlbuild</code> is not in your path, you may set the variable <code>OCAMLBINPATH</code> to point to the location of the compiler by doing <code>make OCAMLBINPATH='the\_correct\_dir' bin/KaSim</code>.</p>

	  <li><i>The continuous integration script.</li></i>
	  <p style="text-align:justify;">Maybe the most valuable place to see how to compile KaSim is our <a href="https://raw.githubusercontent.com/Kappa-Dev/KaSim/master/.travis.yml">continuous integration script</a>.

	    <br>Installing the packages listed in the <i>apt</i> section allows you to go from a fresh ubuntu installation to somewhere where KaSim compiles. The build section shows that <i>make</i> should be enough to get the binaries when the dependencies are there. </p>

	  <li><i>Compiling the graphical interface of KaSa and KaDE.</i></li>
	  <p style="text-align:justify;">
	    The graphical interface of KaSa and KaDE requires <a href="http://www.tcl.tk/}\">tk-dev</a> and <a href="https://forge.ocamlcore.org/projects/labltk/">labltk</a>. By default, the graphical interface is not compiled. The compilation of this interface can be toggled on by using the following command: <code>make USE\_TK=1 bin/KaSa</code> (or <code>make USE\_TK=1 bin/KaDE</code>).

	    <br>Common compilation errors are the following:
	    <ol>
	      <li>The following error:
<pre><code>/usr/bin/ld: cannot find -ltk
collect2: error: ld returned 1 exit status
File "caml_startup", line 1:
Error: Error during linking
Command exited with code 2.</pre></code>
occurs when the module <a href="http://www.tcl.tk/">tk-dev</a> is not installed.</li>
	      <li> The following error:
<pre><code>File "_none_", line 1:
Error: Cannot find file jpflib.cmxa
Command exited with code 2.</pre></code>
occurs when OCaml cannot link the labltk library.
Please document the variable <code>LABLTKLIBREP</code> in the Makefile.
	      </li>
	    </ol>
	  </p>
	</ul>
      </div>

      <h3 id="ruleKraft">Building a kappa model</h3>
      <p>Under Linux, we recommend using the <a href="https://www.gnu.org/software/emacs/">GNU
	Emacs</a> text editor because it has
	a <a href="https://github.com/sstucki/kappa-emacs">Kappa
	mode</a> that you can install.</p>

	<p>Under Windows, there is a simple <a href="resources/Kappa_NotepadPP_Lang.xml">syntax highlighter</a>
	for the <a href="https://notepad-plus-plus.org/">Notepad++</a> text editor. It looks like this:</p>
	<img alt="Sample of Notepad++ highlighter." src="img/Kappa_NotepadPP_Sample.png"/>
	<p>To install, just download the highlighter .xml file, then go to Notepad++'s Language Menu ->
	DefineYourLanguage -> Import, and select the file you just downloaded.</p>

	<p>In any case, you will
	need <a href="http://www.graphviz.org/">Graphviz</a> or any
	graph vizualizator that understands the <i>dot</i> format to
	draw generated graphs.</p>

	<h3>Pretty printing Kappa code in LaTeX</h3>
	<p>For pretty LaTeX printing, there is a language definition for the
	<a href="http://ctan.org/pkg/listings">listings</a> package available
	<a href="resources/Kappa_LaTeX_Lang.tex">here</a>, with a demo texfile
	<a href="resources/Kappa_LaTeX_sample.tex">here</a>.</p>

      <h3>Joining the discussion</h3>
      <p>A google group
	of <a href="https://groups.google.com/forum/#!forum/kappa-users">Kappa
	  users</a> is there to handle communication between us.</p>
      <h3>Fix</h3>
      <p>Please report
	any <a href="https://github.com/Kappa-Dev/KaSim/issues">issue</a>.</p>
      <h3>Interact at low level</h3>
      <p>You could use KaSim as an OCaml library. The detail of
	the <a href="https://tools.kappalanguage.org/docs/KaSim-API-master/index.html">API</a> is online.<p>
      <p>KaSim can be turned into a REST
      service. <a href="http://petstore.swagger.io/?url=https://raw.githubusercontent.com/Kappa-Dev/KaSim/master/webapp/WebSim.yaml">Here
      is a description of the HTTP commands.</a></p>
      <h2 class="page-header">Misc.</h2>
      <h3>Old material</h3>
      <ul>
	<li><a href="https://github.com/kappamodeler">Source code of former Kappa implementations.</a></li>
      </ul>
      <h2 class="page-header">About</h2>
      <div class="row">
	<div class="col-xs-3">
	  <img class="img-responsive center-block" alt="Harvard Medical School" src="http://hms.harvard.edu/sites/all/themes/hms/logo.png"/>
	  <img class="img-responsive center-block" vspace="10" alt="Inria" src="img/logo_inria.png"/>
	</div>
	<img class="col-xs-2 img-responsive" alt="CNRS" src="img/CNRSfr.jpg"/>
	<div class="col-xs-3">
	  <img class="img-responsive" alt="ENS Lyon" src="img/Logo_ENS_Lyon.png"/>
	  <img class="img-responsive center-block" alt="ENS" src="img/logo_ens_ulm.jpg"/>
	</div>
	<div>
	<img class="col-xs-1 img-responsive" alt="Universit&eacute; Paris Diderot" src="img/Logo_UPD.jpg"/>
	</div>
      </div>
    </div>

    <!-- Piwik -->
    <script type="text/javascript">
      var _paq = _paq || [];
      _paq.push(["setDomains", ["*.dev.executableknowledge.org/try"]]);
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
      var u="https://coutosuisse.fagny.fr/analytics/";
      _paq.push(['setTrackerUrl', u+'piwik.php']);
      _paq.push(['setSiteId', 1]);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <noscript><p><img src="https://coutosuisse.fagny.fr/analytics/piwik.php?idsite=1" style="border:0;" alt="" /></p></noscript>
    <!-- End Piwik Code -->
  </body>
</html>
